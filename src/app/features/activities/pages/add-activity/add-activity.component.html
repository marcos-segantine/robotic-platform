<div class="content">
    <app-menu [data]="sectionsData" />

    @if (currentSection === "create-trail") {
    <div class="forms">
        <app-input mode="mode-1" text="Nome da trilha" size="bigger" [(property)]="newTrailData.name" />
        <app-input mode="textarea" text="Resumo da trilha" size="bigger" [(property)]="newTrailData.resume" />

        <h2>Dificuldade</h2>
        <div class="difficulty">
            <span (click)="changeOption(0, 'difficulty')">Facil</span>
            <span (click)="changeOption(1, 'difficulty')">Medio</span>
            <span (click)="changeOption(2, 'difficulty')">Dificil</span>
        </div>

        <h2>Escolaridade Destinada</h2>
        <div class="schooling">
            <span (click)="changeOption(0, 'schooling')">Fundamental 1</span>
            <span (click)="changeOption(1, 'schooling')">Fundamental 2</span>
        </div>

        <div class="buttons">
            <app-button buttonStyle="default" text="Limpar" />
            <app-button buttonStyle="disable" text="Confirmar" (event)="createTrail()" />
        </div>
    </div>
    }
    @else {
    <div class="forms">
        @if (trailSelected !== null) {
        <p class="alert"><strong>Adicionar atividade para a trilha {{ trailSelected?.name }}</strong></p>
        }

        <div class="activity">
            <h3>Adicionar uma atividade à trilha</h3>

            <div>
                <app-input mode="mode-1" placeholder="Lição n° ..." text="Título da lição" size="bigger" [(property)]="activity.title" />
                <app-input mode="mode-1" placeholder="Intuito dessa atividade é trabalhar..." text="Resumo da atividade"
                    size="bigger" [(property)]="activity.resume" />
                <!-- <app-input mode="mode-1" text="Pontuacao da atividade" size="small" [(property)]="activity.points" /> -->
            </div>

            <div class="question-alternatives">
                <app-input mode="mode-1" placeholder="" text="Pergunta" size="bigger" [(property)]="activity.question" />
                <div id="alternatives-container" class="alternatives">
                    <app-input mode="mode-1" placeholder="" text="Alternativas (no máximo 5)" size="bigger" />
                    <app-button buttonStyle="selected" text="Adicionar" width="max-content" (event)="addAlternativesTemp()" />
                    
                    @for (item of alternativesTemp; track item) {
                        <span>{{ item }}</span>
                    }
                </div>
            </div>
        </div>

        <div class="buttons">
            <app-button buttonStyle="default" text="Limpar" />
            <app-button buttonStyle="selected" text="Confirmar" (event)="addDataToTrail()" />
        </div>
    </div>

    <div class="trails">
        @if (trailSelected !== null) {
        <app-left-arrow-icon fillColor="#FFFFFF" />
        <app-trail [isSelected]="true" [trail]="trailSelected" />
        }
        @else {
        @if (trailSelected !== null) {
        <app-trail [isSelected]="false" [trail]="trailSelected" />
        }
        @else {
        @if (trails !== null) {
        <h2>Escolha a Trilha</h2>
        <app-input size="all" mode="mode-1" placeholder="Pesquisar" [(property)]="trailToSearch" />
        @for (trail of trails; track trail) {
        <app-trail [isSelected]="false" [trail]="trail" (event)="selectTrail($event)" />
        }
        }
        @else {
        <h2>Nenhuma Trilha Disp~onivel</h2>
        }
        }
        }
    </div>
    }
</div>